<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Swiper demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />

  <style>
    :root {
      color-scheme: dark;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
    }

    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: radial-gradient(circle at top, #12161c 0%, #080a0d 62%, #030405 100%);
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      overflow: hidden;
      position: relative;
    }

    audio {
      display: none;
    }

    .slider-shell {
      position: relative;
      display: inline-block;
    }

    .audio-toggle {
      position: absolute;
      top: 24px;
      right: 24px;
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.24);
      background: rgba(12, 16, 22, 0.65);
      color: #f3f5f7;
      font-size: 14px;
      font-weight: 500;
      letter-spacing: 0.02em;
      cursor: pointer;
      user-select: none;
      -webkit-backdrop-filter: blur(12px);
      backdrop-filter: blur(12px);
      transition: border 0.3s ease, background 0.3s ease, color 0.3s ease;
      z-index: 20;
    }

    .audio-toggle:focus-visible {
      outline: 2px solid #00c4d6;
      outline-offset: 4px;
    }

    .audio-toggle .toggle-track {
      position: relative;
      width: 46px;
      height: 26px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.24);
      transition: background 0.28s ease;
    }

    .audio-toggle .toggle-thumb {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #ffffff;
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.28);
      transition: transform 0.28s ease, background 0.28s ease;
    }

    .audio-toggle .toggle-label {
      white-space: nowrap;
    }

    .audio-toggle.is-on {
      border-color: rgba(0, 196, 214, 0.72);
      background: rgba(0, 132, 155, 0.36);
      color: #eafeff;
    }

    .audio-toggle.is-on .toggle-track {
      background: linear-gradient(135deg, #00c4d6 0%, #2cf4bf 100%);
    }

    .audio-toggle.is-on .toggle-thumb {
      transform: translateX(20px);
      background: #ffffff;
    }

    swiper-container {
      width: min(92vw, 1400px);
      aspect-ratio: 16 / 9;
      max-height: 92vh;
      border-radius: 32px;
      overflow: hidden;
      box-shadow: 0 32px 120px rgba(0, 0, 0, 0.55);
      background: #000;
    }

    swiper-slide {
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      background: #000;
    }

    swiper-slide img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 0;
      box-shadow: none;
    }

    swiper-container::part(pagination) {
      bottom: 34px;
    }

    swiper-container::part(bullet) {
      background: rgba(0, 180, 195, 0.32);
      width: 10px;
      height: 10px;
    }

    swiper-container::part(bullet-active) {
      background: #00c4d6;
      width: 18px;
      border-radius: 6px;
    }
  </style>
</head>

<body>

  <div class="slider-shell">
    <audio id="bgm" muted loop preload="auto" playsinline>
      <source src="1.MP3" type="audio/mpeg" />
      <source src="1.WEBM" type="audio/webm" />
    </audio>

    <button class="audio-toggle" type="button" aria-pressed="false" aria-label="배경 음악 재생 토글">
      <span class="toggle-track" aria-hidden="true">
        <span class="toggle-thumb"></span>
      </span>
      <span class="toggle-label">BGM</span>
    </button>

    <swiper-container class="mySwiper" init="false" pagination="true" pagination-dynamic-bullets="true">
      <swiper-slide><img src="jpg/1.jpg" alt="Slide 1" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/2.jpg" alt="Slide 2" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/3.jpg" alt="Slide 3" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/4.jpg" alt="Slide 4" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/5.jpg" alt="Slide 5" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/6.jpg" alt="Slide 6" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/7.jpg" alt="Slide 7" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/8.jpg" alt="Slide 8" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/9.jpg" alt="Slide 9" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/10.jpg" alt="Slide 10" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/11.jpg" alt="Slide 11" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/12.jpg" alt="Slide 12" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/13.jpg" alt="Slide 13" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/13-1.png" alt="Slide 14" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/14.png" alt="Slide 15" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/15.jpg" alt="Slide 16" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/16.jpg" alt="Slide 17" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/17.jpg" alt="Slide 18" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/18.jpg" alt="Slide 19" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/19.jpg" alt="Slide 20" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/20.jpg" alt="Slide 21" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/21.jpg" alt="Slide 22" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/22.jpg" alt="Slide 23" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/23.jpg" alt="Slide 24" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/24.jpg" alt="Slide 25" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/25.jpg" alt="Slide 26" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/26.jpg" alt="Slide 27" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/28.jpg" alt="Slide 28" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/29.jpg" alt="Slide 29" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/30.jpg" alt="Slide 30" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/31.jpg" alt="Slide 31" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/32.jpg" alt="Slide 32" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/33.jpg" alt="Slide 33" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/34.jpg" alt="Slide 34" loading="lazy" /></swiper-slide>
    <swiper-slide><img src="jpg/40.jpg" alt="Slide 35" loading="lazy" /></swiper-slide>
      <swiper-slide><img src="jpg/41.jpg" alt="Slide 36" loading="lazy" /></swiper-slide>
      <swiper-slide><img src="jpg/42.jpg" alt="Slide 37" loading="lazy" /></swiper-slide>
      <swiper-slide><img src="jpg/43.jpg" alt="Slide 38" loading="lazy" /></swiper-slide>
    </swiper-container>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
  <script>
    const audioEl = document.getElementById('bgm');
    const toggleBtn = document.querySelector('.audio-toggle');
    const toggleThumb = toggleBtn.querySelector('.toggle-thumb');

    const updateToggleState = (isPlaying) => {
      toggleBtn.classList.toggle('is-on', isPlaying);
      toggleBtn.setAttribute('aria-pressed', String(isPlaying));
    };

    const playAudio = async () => {
      try {
        audioEl.muted = false;
        await audioEl.play();
        updateToggleState(true);
      } catch (error) {
        updateToggleState(false);
      }
    };

    const pauseAudio = () => {
      audioEl.pause();
      updateToggleState(false);
    };

    toggleBtn.addEventListener('click', () => {
      if (audioEl.paused) {
        playAudio();
      } else {
        pauseAudio();
      }
    });

    audioEl.addEventListener('play', () => updateToggleState(true));
    audioEl.addEventListener('pause', () => updateToggleState(false));

    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        pauseAudio();
      }
    });

    const swiperEl = document.querySelector('.mySwiper');

    Object.assign(swiperEl, {
      loop: true,
      speed: 700,
      autoplay: {
        delay: 2500,
        disableOnInteraction: false,
      },
      keyboard: {
        enabled: true,
        onlyInViewport: true,
      },
      effect: 'slide',
    });

    swiperEl.initialize();

    let wheelLock = false;
    const wheelCooldown = 700;

    const handleWheel = (event) => {
      event.preventDefault();
      const swiper = swiperEl.swiper;
      if (!swiper || wheelLock) {
        return;
      }

      wheelLock = true;
      if (event.deltaY > 0) {
        swiper.slideNext();
      } else if (event.deltaY < 0) {
        swiper.slidePrev();
      }

      setTimeout(() => {
        wheelLock = false;
      }, wheelCooldown);
    };

    swiperEl.addEventListener('wheel', handleWheel, { passive: false });

    swiperEl.addEventListener('swiperinit', () => {
      if (swiperEl.swiper?.autoplay) {
        swiperEl.swiper.autoplay.start();
      }
    });
  </script>
</body>

</html>
